.class public abstract Lcom/evilsunflower/reader/library/BooksDatabase;
.super Ljava/lang/Object;
.source "BooksDatabase.java"


# static fields
.field private static ourInstance:Lcom/evilsunflower/reader/library/BooksDatabase;


# direct methods
.method protected constructor <init>()V
    .locals 0

    .prologue
    .line 36
    invoke-direct {p0}, Ljava/lang/Object;-><init>()V

    .line 37
    sput-object p0, Lcom/evilsunflower/reader/library/BooksDatabase;->ourInstance:Lcom/evilsunflower/reader/library/BooksDatabase;

    .line 38
    return-void
.end method

.method public static Instance()Lcom/evilsunflower/reader/library/BooksDatabase;
    .locals 1

    .prologue
    .line 33
    sget-object v0, Lcom/evilsunflower/reader/library/BooksDatabase;->ourInstance:Lcom/evilsunflower/reader/library/BooksDatabase;

    return-object v0
.end method


# virtual methods
.method protected addAuthor(Lcom/evilsunflower/reader/library/Book;Lcom/evilsunflower/reader/library/Author;)V
    .locals 0
    .param p1, "book"    # Lcom/evilsunflower/reader/library/Book;
    .param p2, "author"    # Lcom/evilsunflower/reader/library/Author;

    .prologue
    .line 48
    invoke-virtual {p1, p2}, Lcom/evilsunflower/reader/library/Book;->addAuthorWithNoCheck(Lcom/evilsunflower/reader/library/Author;)V

    .line 49
    return-void
.end method

.method protected addTag(Lcom/evilsunflower/reader/library/Book;Lcom/evilsunflower/reader/library/Tag;)V
    .locals 0
    .param p1, "book"    # Lcom/evilsunflower/reader/library/Book;
    .param p2, "tag"    # Lcom/evilsunflower/reader/library/Tag;

    .prologue
    .line 51
    invoke-virtual {p1, p2}, Lcom/evilsunflower/reader/library/Book;->addTagWithNoCheck(Lcom/evilsunflower/reader/library/Tag;)V

    .line 52
    return-void
.end method

.method protected abstract addToFavorites(J)V
.end method

.method protected abstract addVisitedHyperlink(JLjava/lang/String;)V
.end method

.method protected abstract checkBookList(J)Z
.end method

.method protected createBook(JJLjava/lang/String;Ljava/lang/String;Ljava/lang/String;)Lcom/evilsunflower/reader/library/Book;
    .locals 8
    .param p1, "id"    # J
    .param p3, "fileId"    # J
    .param p5, "title"    # Ljava/lang/String;
    .param p6, "encoding"    # Ljava/lang/String;
    .param p7, "language"    # Ljava/lang/String;

    .prologue
    .line 41
    new-instance v7, Lcom/evilsunflower/reader/library/FileInfoSet;

    invoke-direct {v7, p3, p4}, Lcom/evilsunflower/reader/library/FileInfoSet;-><init>(J)V

    .line 42
    .local v7, "infos":Lcom/evilsunflower/reader/library/FileInfoSet;
    invoke-virtual {v7, p3, p4}, Lcom/evilsunflower/reader/library/FileInfoSet;->getFile(J)Lcom/evilsunflower/reader/core/filesystem/ZLFile;

    move-result-object v3

    move-object v0, p0

    move-wide v1, p1

    move-object v4, p5

    move-object v5, p6

    move-object v6, p7

    invoke-virtual/range {v0 .. v6}, Lcom/evilsunflower/reader/library/BooksDatabase;->createBook(JLcom/evilsunflower/reader/core/filesystem/ZLFile;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Lcom/evilsunflower/reader/library/Book;

    move-result-object v0

    return-object v0
.end method

.method protected createBook(JLcom/evilsunflower/reader/core/filesystem/ZLFile;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Lcom/evilsunflower/reader/library/Book;
    .locals 7
    .param p1, "id"    # J
    .param p3, "file"    # Lcom/evilsunflower/reader/core/filesystem/ZLFile;
    .param p4, "title"    # Ljava/lang/String;
    .param p5, "encoding"    # Ljava/lang/String;
    .param p6, "language"    # Ljava/lang/String;

    .prologue
    .line 45
    if-eqz p3, :cond_0

    new-instance v0, Lcom/evilsunflower/reader/library/Book;

    move-wide v1, p1

    move-object v3, p3

    move-object v4, p4

    move-object v5, p5

    move-object v6, p6

    invoke-direct/range {v0 .. v6}, Lcom/evilsunflower/reader/library/Book;-><init>(JLcom/evilsunflower/reader/core/filesystem/ZLFile;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V

    :goto_0
    return-object v0

    :cond_0
    const/4 v0, 0x0

    goto :goto_0
.end method

.method protected createBookmark(JJLjava/lang/String;Ljava/lang/String;Ljava/util/Date;Ljava/util/Date;Ljava/util/Date;ILjava/lang/String;IIIZ)Lcom/evilsunflower/reader/library/Bookmark;
    .locals 16
    .param p1, "id"    # J
    .param p3, "bookId"    # J
    .param p5, "bookTitle"    # Ljava/lang/String;
    .param p6, "text"    # Ljava/lang/String;
    .param p7, "creationDate"    # Ljava/util/Date;
    .param p8, "modificationDate"    # Ljava/util/Date;
    .param p9, "accessDate"    # Ljava/util/Date;
    .param p10, "accessCounter"    # I
    .param p11, "modelId"    # Ljava/lang/String;
    .param p12, "paragraphIndex"    # I
    .param p13, "wordIndex"    # I
    .param p14, "charIndex"    # I
    .param p15, "isVisible"    # Z

    .prologue
    .line 94
    new-instance v0, Lcom/evilsunflower/reader/library/Bookmark;

    move-wide/from16 v1, p1

    move-wide/from16 v3, p3

    move-object/from16 v5, p5

    move-object/from16 v6, p6

    move-object/from16 v7, p7

    move-object/from16 v8, p8

    move-object/from16 v9, p9

    move/from16 v10, p10

    move-object/from16 v11, p11

    move/from16 v12, p12

    move/from16 v13, p13

    move/from16 v14, p14

    move/from16 v15, p15

    invoke-direct/range {v0 .. v15}, Lcom/evilsunflower/reader/library/Bookmark;-><init>(JJLjava/lang/String;Ljava/lang/String;Ljava/util/Date;Ljava/util/Date;Ljava/util/Date;ILjava/lang/String;IIIZ)V

    return-object v0
.end method

.method protected createFileInfo(JLjava/lang/String;Lcom/evilsunflower/reader/library/FileInfo;)Lcom/evilsunflower/reader/library/FileInfo;
    .locals 1
    .param p1, "id"    # J
    .param p3, "name"    # Ljava/lang/String;
    .param p4, "parent"    # Lcom/evilsunflower/reader/library/FileInfo;

    .prologue
    .line 77
    new-instance v0, Lcom/evilsunflower/reader/library/FileInfo;

    invoke-direct {v0, p3, p4, p1, p2}, Lcom/evilsunflower/reader/library/FileInfo;-><init>(Ljava/lang/String;Lcom/evilsunflower/reader/library/FileInfo;J)V

    return-object v0
.end method

.method protected abstract deleteAllBookAuthors(J)V
.end method

.method protected abstract deleteAllBookTags(J)V
.end method

.method protected abstract deleteBookmark(Lcom/evilsunflower/reader/library/Bookmark;)V
.end method

.method protected abstract deleteFromBookList(J)Z
.end method

.method protected abstract executeAsATransaction(Ljava/lang/Runnable;)V
.end method

.method protected abstract getStoredPosition(J)Lcom/evilsunflower/reader/text/view/ZLTextPosition;
.end method

.method protected abstract insertBookInfo(Lcom/evilsunflower/reader/core/filesystem/ZLFile;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)J
.end method

.method protected abstract insertIntoBookList(J)Z
.end method

.method protected abstract loadAllVisibleBookmarks()Ljava/util/List;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "()",
            "Ljava/util/List",
            "<",
            "Lcom/evilsunflower/reader/library/Bookmark;",
            ">;"
        }
    .end annotation
.end method

.method protected abstract loadAuthors(J)Ljava/util/List;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(J)",
            "Ljava/util/List",
            "<",
            "Lcom/evilsunflower/reader/library/Author;",
            ">;"
        }
    .end annotation
.end method

.method protected abstract loadBook(J)Lcom/evilsunflower/reader/library/Book;
.end method

.method protected abstract loadBookByFile(JLcom/evilsunflower/reader/core/filesystem/ZLFile;)Lcom/evilsunflower/reader/library/Book;
.end method

.method protected abstract loadBookmarks(JZ)Ljava/util/List;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(JZ)",
            "Ljava/util/List",
            "<",
            "Lcom/evilsunflower/reader/library/Bookmark;",
            ">;"
        }
    .end annotation
.end method

.method protected abstract loadBooks(Lcom/evilsunflower/reader/library/FileInfoSet;)Ljava/util/Map;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Lcom/evilsunflower/reader/library/FileInfoSet;",
            ")",
            "Ljava/util/Map",
            "<",
            "Ljava/lang/Long;",
            "Lcom/evilsunflower/reader/library/Book;",
            ">;"
        }
    .end annotation
.end method

.method protected abstract loadFavoritesIds()Ljava/util/List;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "()",
            "Ljava/util/List",
            "<",
            "Ljava/lang/Long;",
            ">;"
        }
    .end annotation
.end method

.method protected abstract loadFileInfos()Ljava/util/Collection;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "()",
            "Ljava/util/Collection",
            "<",
            "Lcom/evilsunflower/reader/library/FileInfo;",
            ">;"
        }
    .end annotation
.end method

.method protected abstract loadFileInfos(J)Ljava/util/Collection;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(J)",
            "Ljava/util/Collection",
            "<",
            "Lcom/evilsunflower/reader/library/FileInfo;",
            ">;"
        }
    .end annotation
.end method

.method protected abstract loadFileInfos(Lcom/evilsunflower/reader/core/filesystem/ZLFile;)Ljava/util/Collection;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Lcom/evilsunflower/reader/core/filesystem/ZLFile;",
            ")",
            "Ljava/util/Collection",
            "<",
            "Lcom/evilsunflower/reader/library/FileInfo;",
            ">;"
        }
    .end annotation
.end method

.method protected abstract loadRecentBookIds()Ljava/util/List;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "()",
            "Ljava/util/List",
            "<",
            "Ljava/lang/Long;",
            ">;"
        }
    .end annotation
.end method

.method protected abstract loadSeriesInfo(J)Lcom/evilsunflower/reader/library/SeriesInfo;
.end method

.method protected abstract loadTags(J)Ljava/util/List;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(J)",
            "Ljava/util/List",
            "<",
            "Lcom/evilsunflower/reader/library/Tag;",
            ">;"
        }
    .end annotation
.end method

.method protected abstract loadVisitedHyperlinks(J)Ljava/util/Collection;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(J)",
            "Ljava/util/Collection",
            "<",
            "Ljava/lang/String;",
            ">;"
        }
    .end annotation
.end method

.method protected abstract reloadBook(Lcom/evilsunflower/reader/library/Book;)V
.end method

.method protected abstract removeFileInfo(J)V
.end method

.method protected abstract removeFromFavorites(J)V
.end method

.method protected abstract saveBookAuthorInfo(JJLcom/evilsunflower/reader/library/Author;)V
.end method

.method protected abstract saveBookSeriesInfo(JLcom/evilsunflower/reader/library/SeriesInfo;)V
.end method

.method protected abstract saveBookTagInfo(JLcom/evilsunflower/reader/library/Tag;)V
.end method

.method protected abstract saveBookmark(Lcom/evilsunflower/reader/library/Bookmark;)J
.end method

.method protected abstract saveFileInfo(Lcom/evilsunflower/reader/library/FileInfo;)V
.end method

.method protected abstract saveRecentBookIds(Ljava/util/List;)V
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/List",
            "<",
            "Ljava/lang/Long;",
            ">;)V"
        }
    .end annotation
.end method

.method protected setSeriesInfo(Lcom/evilsunflower/reader/library/Book;Ljava/lang/String;F)V
    .locals 0
    .param p1, "book"    # Lcom/evilsunflower/reader/library/Book;
    .param p2, "series"    # Ljava/lang/String;
    .param p3, "index"    # F

    .prologue
    .line 54
    invoke-virtual {p1, p2, p3}, Lcom/evilsunflower/reader/library/Book;->setSeriesInfoWithNoCheck(Ljava/lang/String;F)V

    .line 55
    return-void
.end method

.method protected abstract storePosition(JLcom/evilsunflower/reader/text/view/ZLTextPosition;)V
.end method

.method protected abstract updateBookInfo(JJLjava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
.end method
